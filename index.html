<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FarmQuest - –ì–ª–∞–≤–Ω–∞—è</title>
    <link rel="stylesheet" href="styles.css">
    <script src="audio.js"></script>
    <script src="script.js"></script>
</head>
<body>
    <div class="screen" id="mainMenu">
        <div class="menu">
            <h1><span>Farm</span>Quest</h1>
            <div class="current-user">
                –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: <span id="currentUserLabel">–ù–µ –≤–æ—à–ª–∏</span>
                <button class="btn btn-logout" id="logoutBtn" onclick="logout()" style="display:none;">–í—ã–π—Ç–∏</button>
            </div>
            <p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—É—é —Ñ–µ—Ä–º–µ—Ä—Å–∫—É—é –∏–≥—Ä—É!</p>
            
            <div class="character-preview-mini" onclick="openCharacterCreator()" style="cursor:pointer; margin:15px 0; padding:10px; background:#f0f9f0; border-radius:12px; border:2px solid #4b8b3b;">
                <div style="text-align:center; color:#4b8b3b; font-weight:600; margin-bottom:8px;">–í–∞—à –ø–µ—Ä—Å–æ–Ω–∞–∂:</div>
                <div class="character-display-mini" id="characterDisplayMini" style="display:flex; align-items:center; justify-content:center; height:80px;">
                    <div class="character-base-mini">üë®</div>
                </div>
                <div style="text-align:center; font-size:12px; color:#777;">–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è</div>
            </div>
            
            <div class="sound-controls" id="soundControls">
                <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–≤—É–∫–∞</h3>
                <div class="volume-control">
                    <label>–ú—É–∑—ã–∫–∞:</label>
                    <input type="range" min="0" max="100" value="50" class="volume-slider" id="musicVolume">
                    <span id="musicVolumeValue">50%</span>
                </div>
                <div class="volume-control">
                    <label>–≠—Ñ—Ñ–µ–∫—Ç—ã:</label>
                    <input type="range" min="0" max="100" value="70" class="volume-slider" id="sfxVolume">
                    <span id="sfxVolumeValue">70%</span>
                </div>
            </div>
            
            <button class="btn btn-start" onclick="startGame()">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
            <button class="btn btn-secondary" onclick="showRegisterModal()">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
            <button class="btn btn-secondary" onclick="showLoginModal()">–í—Ö–æ–¥</button>
            <button class="btn btn-secondary" onclick="loginAsGuest()">–ò–≥—Ä–∞—Ç—å –∫–∞–∫ –≥–æ—Å—Ç—å</button>
        </div>
    </div>

    <div class="modal" id="registerModal">
        <div class="modal-content">
            <h2>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
            <form id="registerForm">
                <input type="text" placeholder="–õ–æ–≥–∏–Ω" required>
                <input type="password" placeholder="–ü–∞—Ä–æ–ª—å" required>
                <input type="password" placeholder="–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å" required>
            </form>
            <div class="error-message" id="registerError"></div>
            <div class="modal-btn-group">
                <button class="btn btn-start" onclick="register()">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
                <button class="btn btn-secondary" onclick="hideModal('registerModal')">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <div class="modal" id="loginModal">
        <div class="modal-content">
            <h2>–í—Ö–æ–¥</h2>
            <form id="loginForm">
                <input type="text" placeholder="–õ–æ–≥–∏–Ω" required>
                <input type="password" placeholder="–ü–∞—Ä–æ–ª—å" required>
            </form>
            <div class="error-message" id="loginError"></div>
            <div class="modal-btn-group">
                <button class="btn btn-start" onclick="login()">–í–æ–π—Ç–∏</button>
                <button class="btn btn-secondary" onclick="hideModal('loginModal')">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <div class="modal" id="characterModal">
        <div class="modal-content">
            <h2>–°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞</h2>
            <div class="character-creator">
                <div class="character-preview">
                    <div class="character-display" id="characterDisplay">
                        <div class="character-base">üë®</div>
                        <div class="character-hat" id="characterHat"></div>
                        <div class="character-shirt" id="characterShirt"></div>
                        <div class="character-tool" id="characterTool"></div>
                    </div>
                    <div class="character-name-display" id="characterNameDisplay">–ò–º—è: –§–µ—Ä–º–µ—Ä</div>
                </div>
                <div class="character-options">
                    <div class="option-group">
                        <h4>–¢–∏–ø –ø–µ—Ä—Å–æ–Ω–∞–∂–∞</h4>
                        <div class="option-buttons">
                            <button class="option-btn active" onclick="selectCharacterType('male')">üë® –ú—É–∂—á–∏–Ω–∞</button>
                            <button class="option-btn" onclick="selectCharacterType('female')">üë© –ñ–µ–Ω—â–∏–Ω–∞</button>
                        </div>
                    </div>
                    <div class="option-group">
                        <h4>–®–ª—è–ø–∞</h4>
                        <div class="option-buttons">
                            <button class="option-btn active" onclick="selectHat('none')">–ë–µ–∑ —à–ª—è–ø—ã</button>
                            <button class="option-btn" onclick="selectHat('straw')">üëí –°–æ–ª–æ–º–µ–Ω–Ω–∞—è</button>
                            <button class="option-btn" onclick="selectHat('cowboy')">ü§† –ö–æ–≤–±–æ–π—Å–∫–∞—è</button>
                            <button class="option-btn" onclick="selectHat('tophat')">üé© –¶–∏–ª–∏–Ω–¥—Ä</button>
                            <button class="option-btn" onclick="selectHat('cap')">üß¢ –ö–µ–ø–∫–∞</button>
                        </div>
                    </div>
                    <div class="option-group">
                        <h4>–û–¥–µ–∂–¥–∞</h4>
                        <div class="option-buttons">
                            <button class="option-btn active" onclick="selectShirt('green')">üü¢ –ó–µ–ª—ë–Ω–∞—è —Ä—É–±–∞—à–∫–∞</button>
                            <button class="option-btn" onclick="selectShirt('blue')">üîµ –°–∏–Ω–∏–π –∫–æ–º–±–∏–Ω–µ–∑–æ–Ω</button>
                            <button class="option-btn" onclick="selectShirt('red')">üî¥ –ö—Ä–∞—Å–Ω–∞—è —Ñ—É—Ç–±–æ–ª–∫–∞</button>
                            <button class="option-btn" onclick="selectShirt('overall')">üëñ –î–∂–∏–Ω—Å–æ–≤—ã–π –∫–æ–º–±–∏–Ω–µ–∑–æ–Ω</button>
                            <button class="option-btn" onclick="selectShirt('fancy')">üëî –ö–æ—Å—Ç—é–º</button>
                        </div>
                    </div>
                    <div class="option-group">
                        <h4>–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç</h4>
                        <div class="option-buttons">
                            <button class="option-btn active" onclick="selectTool('none')">–ë–µ–∑ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞</button>
                            <button class="option-btn" onclick="selectTool('hoe')">‚õèÔ∏è –ú–æ—Ç—ã–≥–∞</button>
                            <button class="option-btn" onclick="selectTool('scythe')">üî™ –ö–æ—Å–∞</button>
                            <button class="option-btn" onclick="selectTool('watering')">üö∞ –õ–µ–π–∫–∞</button>
                            <button class="option-btn" onclick="selectTool('pitchfork')">üç¥ –í–∏–ª—ã</button>
                        </div>
                    </div>
                    <div class="option-group">
                        <h4>–ò–º—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞</h4>
                        <input type="text" id="characterNameInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞" value="–§–µ—Ä–º–µ—Ä" maxlength="20">
                        <div style="font-size:12px; color:#777; margin-top:5px;">–ú–∞–∫—Å–∏–º—É–º 20 —Å–∏–º–≤–æ–ª–æ–≤</div>
                    </div>
                </div>
            </div>
            <div class="modal-btn-group">
                <button class="btn btn-start" onclick="saveCharacter()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞</button>
                <button class="btn btn-secondary" onclick="closeCharacterCreator()">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <div class="audio-hint" id="audioHint">
        üîá –î–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –∑–≤—É–∫–∞ –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –ª—é–±—É—é –∫–Ω–æ–ø–∫—É
    </div>
</body>
</html>
